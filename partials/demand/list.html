<div class="lists col-md-9">
  <section class="list" ng-repeat="list in results.lists">
    <header>
      {{ list.name }}
    </header>
    <content>
      <div ng-repeat="demand in results.demands |list:results.list_id:list.id |orderBy:orderByRank()">
        <header>
          <h5>{{demand.id}}</h5>
          <span class="pull-right">{{results.rank[demand.id]}}</span>
        </header>
        <p>{{ results.list_id[demand.id] }}{{ demand.title }}</p>
        <p>
          <span style="background-color:red" ng-repeat="tag in results.demands[id].tag_list">{{demand.tag}}</span>
          <span ng-show="results.cost_estimate[id] && !results.payment[demand.id]">{{ results.cost_estimate[demand.id] }}â‚¬</span>
        </p>
        <vote id="demand.id" check="results.votes[demand.id][login.getName()]"></vote>
      </div>
    </content>
    <footer ng-show="$first" ng-controller="NewDemandCtrl">
      <button class="btn btn-link" ng-disabled="login.isNotConnect()" ng-hide="showForm" ng-click="addDemand()">Add demand</button>
      <div ng-show="showForm">
        <textarea ng-disabled="loading" focus="showForm" ng-model="demand.title" ng-keypress="save($event)"></textarea>
        <span us-spinner ng-show="loading"></span>
      </div>
    </footer>
  </section>
</div>
